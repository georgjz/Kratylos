# Context-Free Grammar

A context-free grammar is a 4-tuple $G = (V, \Sigma, R, S)$, where
* $V$ is a finite set of *variables* or *nonterminals*
* $\Sigma$ is a finite set of *terminals*, this set is disjoint from $V$
* $R$ is a finite set of relations $V \times (V \cup \Sigma)^{\ast}$, where $^{\ast}$ is the [[Kleene Closure|Kleene star operator]], elements of this set are called *productions* or *rewrite rules*
* $S$ is called the *start symbol*, where $S\in V$

A *grammar symbol* of context-free grammar $G$ is any nonterminal or terminal $X \in (V \cup \Sigma)$.

A *string* $\alpha$ of the context-free grammar $G$ is a infinite concatenation of grammar symbols.

Context-free grammars are a form of [[Formal Grammar|formal grammar]], the key difference being that the head of any rewrite rule may only contain a single nonterminal $X\in V$. This restriction is non-trivial.

## Examples
Consider the following example grammar $G_1$:

$$
G_1 = (\{A,\,B\},\;\{a,\,b,\,\#\},\;R,\;A)
$$

Where the productions in $R$ are:

$$
\begin{aligned}
A\;&\to\;aAb\;\mid\;B \\
B\;&\to\;\#
\end{aligned}
$$

Nonterminal $A$ is also the start symbol, so $S \; = \; A$. The terminals are $\Sigma \; = \; \{a, \; b, \; \#\}$. The nonterminals are $V \; = \; \{A, \; B\}$.

We say the grammar $G_1$ *generates* the example string $aaa\#bbb$. The sequence of production rules applied to generate a string are denoted with $\Rightarrow$:

$$
A\;\Rightarrow\;aAb\;\Rightarrow\;aaAbb\;\Rightarrow\;aaaAbbb\;\Rightarrow\;aaaBbbb\;\Rightarrow\;aaa\#bbb
$$

This can be shortend to $A\;\xRightarrow{\ast}\;aaa\#bbb$, where $\xRightarrow{\ast}$ denotes zero or more steps in a [[Derivation|derivation]].

All strings generated this way are considered to be of the language $L$ of the grammar $G$, denoted as $L(G)$. The act of finding a string $\alpha \in L(G)$ is called [[Derivation|derivation]]. A language generated by a context-free grammar is called a [[Context-Free Language|context-free language]].

## Properties

###### Equivalence
Two context-free grammars, $G_1$ and $G_2$, are [[Equivalence|equivalent]], iff they generate the same [[Context-Free Language|language]]. That is, $L(G_1) \; = \; L(G_2)$. Undecidable.

###### Closure
Context-free grammars are closed under following operations
* [[Union|union]]: $G_1 \cup G_2$
* [[Concatenation|concatenation]]: $G_1 \circ G_2$
* [[Kleene Closure]]: $G^{\ast}$
* substitution
* inverse homomorphism
* intersection with a regular language

###### Ambiguity
A context-free grammar is [[Ambiguity|ambiguous]] iff for string $\alpha \in L(G)$ there are two or more derivations (aka, a context-free grammar is unambiguous if each string's derivation is unique). Undecidable.

###### Productivity
A nonterminal $X \in V$ is [[Productivity|productive]] iff there is a derivation $X \; \xRightarrow{\ast} \; \alpha$ of some string $\alpha \in \Sigma^{\ast}$. Decidable.

###### Reachability
A nonterminal $X \in V$ is [[Reachability|reachable]] if there is a derivation $S \; \xRightarrow{\ast} \; \alpha X \beta$, where $\alpha$ and $\beta$ are strings of nonterminals and terminals, and $S$ the start symbol. Decidable.

###### Usability
A nonterminal $X \in V$ is [[Usability|useless]] if it is [[Productivity|unproductive]] or [[Reachability|unreachable]]. Decidable by extension.

###### Nullability
A nonterminal $X \in V$ is [[Nullability|nullable]] if there is a derivation $X \; \xRightarrow{\ast} \; \epsilon$. Decidable.

###### Cyclicity
A derivation $X \; \xRightarrow{+} \; X$ is called a [[Cyclicity|cycle]]. Decidable.

###### Left and Right Recursion
A grammar $G$ is [[Recursion#Left Recursion|left recursive]] if it has a nonterminal $X$ such that there is a derivation $X \; \xRightarrow{+} \; X\alpha$ for any string $\alpha$.

A grammar $G$ is [[Recursion#Right Recursion|right recursive]] if it has a nonterminal $X$ such that there is a derivation $X \; \xRightarrow{+} \; \alpha X$ for any string $\alpha$.
